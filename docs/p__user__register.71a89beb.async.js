(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8803],{308845:function(h){h.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},239818:function(h,D,r){"use strict";r.r(D);var _e=r(401045),L=r(799293),le=r(48602),M=r(808117),de=r(10087),O=r(671035),ue=r(673039),Z=r(964761),me=r(930389),S=r(188182),C=r(379812),ce=r(765418),F=r(133),u=r(721961),ge=r(15746),_=r(631314),Ee=r(76115),A=r(625150),ve=r(182785),c=r(848603),e=r(556692),s=r(484776),j=r(421326),N=r(308845),n=r.n(N),l=c.Z.Item,I=A.Z.Option,b=_.Z.Group,x={ok:e.createElement("div",{className:n().success},e.createElement(s._H,{id:"userandregister.strength.strong"})),pass:e.createElement("div",{className:n().warning},e.createElement(s._H,{id:"userandregister.strength.medium"})),poor:e.createElement("div",{className:n().error},e.createElement(s._H,{id:"userandregister.strength.short"}))},z={ok:"success",pass:"normal",poor:"exception"},H=function(m){var E=m.submitting,V=m.dispatch,v=m.userAndregister,G=(0,e.useState)(0),w=(0,u.Z)(G,2),p=w[0],R=w[1],$=(0,e.useState)(!1),T=(0,u.Z)($,2),P=T[0],W=T[1],J=(0,e.useState)("86"),y=(0,u.Z)(J,2),B=y[0],Q=y[1],X=(0,e.useState)(!1),U=(0,u.Z)(X,2),Y=U[0],k=U[1],q=!1,f,ee=c.Z.useForm(),re=(0,u.Z)(ee,1),o=re[0];(0,e.useEffect)(function(){if(!!v){var i=o.getFieldValue("mail");v.status==="ok"&&(F.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),s.m8.push({pathname:"/user/register-result",state:{account:i}}))}},[v]),(0,e.useEffect)(function(){return function(){clearInterval(f)}},[]);var te=function(){var t=59;R(t),f=window.setInterval(function(){t-=1,R(t),t===0&&clearInterval(f)},1e3)},K=function(){var t=o.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},se=function(t){V({type:"userAndregister/submit",payload:(0,C.Z)((0,C.Z)({},t),{},{prefix:B})})},ae=function(t,a){var d=Promise;return a&&a!==o.getFieldValue("password")?d.reject((0,s.wv)({id:"userandregister.password.twice"})):d.resolve()},ne=function(t,a){var d=Promise;return a?(P||W(!!a),k(!Y),a.length<6?d.reject(""):(a&&q&&o.validateFields(["confirm"]),d.resolve())):(W(!!a),d.reject((0,s.wv)({id:"userandregister.password.required"})))},ie=function(t){Q(t)},oe=function(){var t=o.getFieldValue("password"),a=K();return t&&t.length?e.createElement("div",{className:n()["progress-".concat(a)]},e.createElement(S.Z,{status:z[a],className:n().progress,strokeWidth:6,percent:t.length*10>100?100:t.length*10,showInfo:!1})):null};return e.createElement("div",{className:n().main},e.createElement("h3",null,e.createElement(s._H,{id:"userandregister.register.register"})),e.createElement(c.Z,{form:o,name:"UserRegister",onFinish:se},e.createElement(l,{name:"mail",rules:[{required:!0,message:(0,s.wv)({id:"userandregister.email.required"})},{type:"email",message:(0,s.wv)({id:"userandregister.email.wrong-format"})}]},e.createElement(_.Z,{size:"large",placeholder:(0,s.wv)({id:"userandregister.email.placeholder"})})),e.createElement(Z.Z,{getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},content:P&&e.createElement("div",{style:{padding:"4px 0"}},x[K()],oe(),e.createElement("div",{style:{marginTop:10}},e.createElement(s._H,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:P},e.createElement(l,{name:"password",className:o.getFieldValue("password")&&o.getFieldValue("password").length>0&&n().password,rules:[{validator:ne}]},e.createElement(_.Z,{size:"large",type:"password",placeholder:(0,s.wv)({id:"userandregister.password.placeholder"})}))),e.createElement(l,{name:"confirm",rules:[{required:!0,message:(0,s.wv)({id:"userandregister.confirm-password.required"})},{validator:ae}]},e.createElement(_.Z,{size:"large",type:"password",placeholder:(0,s.wv)({id:"userandregister.confirm-password.placeholder"})})),e.createElement(b,{compact:!0},e.createElement(A.Z,{size:"large",value:B,onChange:ie,style:{width:"20%"}},e.createElement(I,{value:"86"},"+86"),e.createElement(I,{value:"87"},"+87")),e.createElement(l,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:(0,s.wv)({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:(0,s.wv)({id:"userandregister.phone-number.wrong-format"})}]},e.createElement(_.Z,{size:"large",placeholder:(0,s.wv)({id:"userandregister.phone-number.placeholder"})}))),e.createElement(L.Z,{gutter:8},e.createElement(O.Z,{span:16},e.createElement(l,{name:"captcha",rules:[{required:!0,message:(0,s.wv)({id:"userandregister.verification-code.required"})}]},e.createElement(_.Z,{size:"large",placeholder:(0,s.wv)({id:"userandregister.verification-code.placeholder"})}))),e.createElement(O.Z,{span:8},e.createElement(M.Z,{size:"large",disabled:!!p,className:n().getCaptcha,onClick:te},p?"".concat(p," s"):(0,s.wv)({id:"userandregister.register.get-verification-code"})))),e.createElement(l,null,e.createElement(M.Z,{size:"large",loading:E,className:n().submit,type:"primary",htmlType:"submit"},e.createElement(s._H,{id:"userandregister.register.register"})),e.createElement(j.rU,{className:n().login,to:"/user/login"},e.createElement(s._H,{id:"userandregister.register.sign-in"})))))};D.default=(0,s.$j)(function(g){var m=g.userAndregister,E=g.loading;return{userAndregister:m,submitting:E.effects["userAndregister/submit"]}})(H)}}]);
