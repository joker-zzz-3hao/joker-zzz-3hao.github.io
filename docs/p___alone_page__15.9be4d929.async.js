(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{JpNU:function(N,T,e){"use strict";e.d(T,"a",function(){return w});var A=e("jrin"),L=e("k1fw"),C=e("fWQN"),p=e("mtLc"),d=e("9kvl"),w=function(){function b(){Object(C.a)(this,b)}return Object(p.a)(b,[{key:"fkDva_connect",value:function(i,o){var a=Object(d.c)(i);console.log("\u68C0\u67E5\u62A5\u9519 a",a);var r=a(o);console.log("\u68C0\u67E5\u62A5\u9519 b",r);var m=r;return console.log("\u68C0\u67E5\u62A5\u9519 fc",m),m}},{key:"get_connect_mapStateToProps_FN",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return{}};return function(a){var r;console.log("dvaBuiltIn_data","\u9ED8\u8BA4\u6570\u636E",a);var m=i.namespace,W=a[m],I=a.loading,D=o(a);return Object(L.a)(Object(L.a)({},a),{},(r={},Object(A.a)(r,m,W),Object(A.a)(r,"my_isLoading",I.models[i.namespace]),r),D)}}}],[{key:"getInstance",value:function(i,o,a){var r=new b,m=r.get_connect_mapStateToProps_FN(o,a);return r.fkDva_connect(m,i)}}]),b}()},osgU:function(N,T,e){"use strict";e.r(T);var A=e("9og8"),L=e("WmNS"),C=e.n(L),p=e("q1tI"),d=e.n(p),w=e("wOW+"),b=e("9kvl"),j=e("JpNU"),i=e("L/3/"),o=e("oBTY"),a=e("tJVT"),r=e("U/Lg"),m=e("TSYQ"),W=e.n(m),I=e("PyRx"),D="product";function Y(){return{\u65F6\u95F4\u8F74:[D,"2012","2013","2014","2015","2016","2017"],\u997C\u56FE\u6570\u636E:[["Milk Tea",56.5,82.1,88.7,70.1,53.4,85.1],["Matcha Latte",51.1,51.4,55.1,53.3,73.8,68.7],["Cheese Cocoa",40.1,62.2,69.5,36.4,45.2,32.5],["Walnut Brownie",25.2,37.1,41.2,18,33.9,49.1]]}}var J=function(E){var M=E.my_custom_store.\u672A\u5B8C\u6210_\u6BCF\u65E5\u4EFB\u52A1,x=E.need_\u603B\u8BA1,B=Object(p.useRef)(null),P=Object(p.useState)({}),F=Object(a.a)(P,2),R=F[0],g=F[1];Object(p.useEffect)(function(){var _=[],n=Object.entries(M).sort(function(c,l){var f=Object(a.a)(c,2),y=f[0],v=f[1],O=Object(a.a)(l,2),h=O[0],V=O[1],Q=new Date(y).valueOf()-new Date(h).valueOf();return Q-0}).map(function(c){var l=Object(a.a)(c,2),f=l[0],y=l[1],v={};return y.forEach(function(O){var h=O.unique_key;_.includes(h)||_.push(h),v[h]===void 0&&(v[h]=0),v[h]+=1}),{date:f,taskCount_map:v}}),s=n.map(function(c){return c.date}),t=[D].concat(Object(o.a)(s)),u=Object(o.a)(_.map(function(c){var l=n.map(function(f){var y=f.taskCount_map[c]||0;return y});return[c].concat(Object(o.a)(l))}));x&&u.push(["\u603B"].concat(Object(o.a)(s.map(function(c,l){var f=l+1,y=u.map(function(v){return v[f]});return y.reduce(function(v,O){return v+O},0)})))),console.log("\u7EDF\u8BA1\u540E\u65E0\u91CD\u590D\u7684_log",n),console.log("\u65F6\u95F4\u8F74",t),console.log("\u997C\u56FE\u6570\u636E",u),g(S(t,u))},[M]);function S(_,n){var s=Object(I.a)(),t=n.length,u={legend:{},tooltip:{trigger:"axis",showContent:!1},dataset:{source:[_].concat(Object(o.a)(n))},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},series:[].concat(Object(o.a)(function(){var c=[{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}}],l=new Array(t).fill({type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}});return l}()),[{type:"pie",id:"pie",radius:"30%",center:["50%","25%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@".concat(s,"} ({d}%)")},encode:{itemName:D,value:s,tooltip:s}}])};return u}return d.a.createElement(d.a.Fragment,null,d.a.createElement(r.a,{ref:B,className:W()(),style:{width:"80vw",height:"150vh"},opts:{},option:R,onEvents:{updateAxisPointer:function(n){console.log("event",n);var s=n.axesInfo[0];if(console.log("xAxisInfo",s),s){var t,u=s.value+1;console.log("dimension____\u5176\u5B9E\u4E5F\u5C31\u662F\u7D22\u5F15",u),(t=B.current)===null||t===void 0||t.getEchartsInstance().setOption({series:{id:"pie",label:{formatter:"{b}: {@["+u+"]} ({d}%)"},encode:{value:u,tooltip:u}}})}}}}))},U=j.a.getInstance(J,i.a),k=function(E){var M=E.my_custom_store,x=E.dispatch;function B(){return P.apply(this,arguments)}function P(){return P=Object(A.a)(C.a.mark(function F(){var R,g,S,_,n;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(R=!0,g=null,!R){t.next=10;break}return t.next=5,w.a.list();case 5:S=t.sent,console.log("res\u8FD4\u56DE",S),g=S.record,t.next=13;break;case 10:_=b.f.location.query||{},n=_.newData,console.log("newData",n),n&&(g=w.b.parseStr(n));case 13:g!==null&&x({type:"my_custom_store/sync_\u8BBE\u7F6E\u8986\u76D6\u5168\u90E8_\u672A\u5B8C\u6210_\u6BCF\u65E5\u4EFB\u52A1",payload:g});case 14:case"end":return t.stop()}},F)})),P.apply(this,arguments)}return Object(p.useEffect)(function(){B()},[]),d.a.createElement(d.a.Fragment,null,d.a.createElement(U,{need_\u603B\u8BA1:!0}))},K=j.a.getInstance(k,i.a),G=T.default=K}}]);
