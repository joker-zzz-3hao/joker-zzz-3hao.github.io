(window.webpackJsonp=window.webpackJsonp||[]).push([[146,13],{"/AXN":function(W,x,a){W.exports={tagCloud:"tagCloud___35SA0"}},"0V05":function(W,x,a){W.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},"8gNO":function(W,x,a){"use strict";a.r(x);var se=a("IzEo"),re=a("bx4M"),R=a("7Kak"),A=a("9yH6"),F=a("9kvl"),$=a("q1tI"),d=a.n($),I=a("ucLW"),t=a("B6XH"),ee=a("UXoT"),S=a.n(ee),T=function(L){var B=L.dropdownGroup,N=L.salesType,ge=L.loading,J=L.salesPieData,ye=L.handleChangeSalesType;return d.a.createElement(re.a,{loading:ge,className:S.a.salesCard,bordered:!1,title:d.a.createElement(F.a,{id:"dashboardandanalysis.analysis.the-proportion-of-sales",defaultMessage:"The Proportion of Sales"}),style:{height:"100%"},extra:d.a.createElement("div",{className:S.a.salesCardExtra},B,d.a.createElement("div",{className:S.a.salesTypeRadio},d.a.createElement(A.a.Group,{value:N,onChange:ye},d.a.createElement(A.a.Button,{value:"all"},d.a.createElement(F.a,{id:"dashboardandanalysis.channel.all",defaultMessage:"ALL"})),d.a.createElement(A.a.Button,{value:"online"},d.a.createElement(F.a,{id:"dashboardandanalysis.channel.online",defaultMessage:"Online"})),d.a.createElement(A.a.Button,{value:"stores"},d.a.createElement(F.a,{id:"dashboardandanalysis.channel.stores",defaultMessage:"Stores"})))))},d.a.createElement("div",null,d.a.createElement("h4",{style:{marginTop:8,marginBottom:32}},d.a.createElement(F.a,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"})),d.a.createElement(I.g,{hasLegend:!0,subTitle:d.a.createElement(F.a,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),total:function(){return d.a.createElement(t.a,null,J.reduce(function(ce,Ee){return Ee.y+ce},0))},data:J,valueFormat:function(ce){return d.a.createElement(t.a,null,ce)},height:248,lineWidth:4})))};x.default=T},B6XH:function(W,x,a){"use strict";a.d(x,"a",function(){return I});var se=a("fWQN"),re=a("mtLc"),R=a("yKVA"),A=a("879j"),F=a("q1tI"),$=a.n(F),d=a("ucLW"),I=function(t){Object(R.a)(S,t);var ee=Object(A.a)(S);function S(){var T;Object(se.a)(this,S);for(var V=arguments.length,L=new Array(V),B=0;B<V;B++)L[B]=arguments[B];return T=ee.call.apply(ee,[this].concat(L)),T.main=null,T.renderToHtml=function(){var N=T.props.children;T.main&&(T.main.innerHTML=Object(d.i)(N))},T}return Object(re.a)(S,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var V=this;return $.a.createElement("span",{ref:function(B){V.main=B}})}}]),S}($.a.Component)},BASP:function(W,x,a){W.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},cMGq:function(W,x,a){W.exports={miniChart:"miniChart___132EF",chartContent:"chartContent___2bnF8",chartLoading:"chartLoading___1MB4M"}},erxF:function(W,x,a){W.exports={timelineChart:"timelineChart___3TShV"}},fu5r:function(W,x,a){W.exports={pie:"pie___100kF",chart:"chart___3VSQ_",hasLegend:"hasLegend___1f2RE",legend:"legend___1fksY",dot:"dot___1yQVs",line:"line___30HIM",legendTitle:"legendTitle___3I_bd",percent:"percent___2pnFx",value:"value___WdIUL",title:"title___3-ziG",total:"total___2NcRJ",legendBlock:"legendBlock___K32fb"}},iZvO:function(W,x,a){W.exports={"ant-pro-menu-item-title":"ant-pro-menu-item-title___2pAmw","ant-menu-item":"ant-menu-item___XZ262","ant-menu-submenu-title":"ant-menu-submenu-title___3T4Hq",miniProgress:"miniProgress___3yUqh",progressWrap:"progressWrap___30TXc",progress:"progress___1zvIk",target:"target___3JhFm"}},tGrY:function(W,x,a){W.exports={waterWave:"waterWave___3-6x_",text:"text___dvEDG",waterWaveCanvasWrapper:"waterWaveCanvasWrapper___2uNIJ"}},ucLW:function(W,x,a){"use strict";a.d(x,"i",function(){return $e}),a.d(x,"a",function(){return de}),a.d(x,"g",function(){return Le}),a.d(x,"e",function(){return _e}),a.d(x,"d",function(){return Pe}),a.d(x,"f",function(){return De}),a.d(x,"b",function(){return Te}),a.d(x,"c",function(){return be}),a.d(x,"h",function(){return je});var se=a("ZhIB"),re=a.n(se),R=a("fWQN"),A=a("mtLc"),F=a("yKVA"),$=a("879j"),d=a("yP6+"),I=a("q1tI"),t=a.n(I),ee=a("9/5/"),S=a.n(ee),T=a("0Owb");function V(g){var r=g.style;r.height="100%";var c=parseInt("".concat(getComputedStyle(g).height),10),e=parseInt("".concat(getComputedStyle(g).paddingTop),10)+parseInt("".concat(getComputedStyle(g).paddingBottom),10);return c-e}function L(g){if(!g)return 0;var r=g,c=V(r),e=r.parentNode;return e&&(c=V(e)),c}function B(){return function(g){var r=function(c){Object(F.a)(n,c);var e=Object($.a)(n);function n(){var u;Object(R.a)(this,n);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return u=e.call.apply(e,[this].concat(l)),u.state={computedHeight:0},u.root=void 0,u.handleRoot=function(h){u.root=h},u}return Object(A.a)(n,[{key:"componentDidMount",value:function(){var o=this.props.height;if(!o){var l=L(this.root);this.setState({computedHeight:l}),l<1&&(l=L(this.root),this.setState({computedHeight:l}))}}},{key:"render",value:function(){var o=this.props.height,l=this.state.computedHeight,s=o||l;return t.a.createElement("div",{ref:this.handleRoot},s>0&&t.a.createElement(g,Object(T.a)({},this.props,{height:s})))}}]),n}(t.a.Component);return r}}var N=B,ge=a("cMGq"),J=a.n(ge),ye=function(g){Object(F.a)(c,g);var r=Object($.a)(c);function c(){var e;Object(R.a)(this,c);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=r.call.apply(r,[this].concat(u)),e.state={autoHideXLabels:!1},e.root=void 0,e.node=void 0,e.resize=S()(function(){if(!(!e.node||!e.node.parentNode)){var l=e.node.parentNode.clientWidth,s=e.props,h=s.data,m=h===void 0?[]:h,v=s.autoLabel,i=v===void 0?!0:v;if(!!i){var y=m.length*30,f=e.state.autoHideXLabels;l<=y?f||e.setState({autoHideXLabels:!0}):f&&e.setState({autoHideXLabels:!1})}}},500),e.handleRoot=function(l){e.root=l},e.handleRef=function(l){e.node=l},e}return Object(A.a)(c,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,u=n.height,o=u===void 0?1:u,l=n.title,s=n.forceFit,h=s===void 0?!0:s,m=n.data,v=n.color,i=v===void 0?"rgba(24, 144, 255, 0.85)":v,y=n.padding,f=this.state.autoHideXLabels,p={x:{type:"cat"},y:{min:0}},M=["x*y",function(P,O){return{name:P,value:O}}];return t.a.createElement("div",{className:J.a.chart,style:{height:o},ref:this.handleRoot},t.a.createElement("div",{ref:this.handleRef},l&&t.a.createElement("h4",{style:{marginBottom:20}},l),t.a.createElement(d.Chart,{scale:p,height:l?o-41:o,forceFit:h,data:m,padding:y||"auto"},t.a.createElement(d.Axis,{name:"x",title:!1,label:f?void 0:{},tickLine:f?void 0:{}}),t.a.createElement(d.Axis,{name:"y",min:0}),t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"interval",position:"x*y",color:i,tooltip:M}))))}}]),c}(I.Component),de=N()(ye),ce=a("IzEo"),Ee=a("bx4M"),We=a("PpiC"),ue=a("jrin"),ze=a("TSYQ"),he=a.n(ze),Re=a("0V05"),_=a.n(Re),Ie=function(r){if(!r&&r!==0)return null;var c;switch(typeof r){case"undefined":c=null;break;case"function":c=t.a.createElement("div",{className:_.a.total},r());break;default:c=t.a.createElement("div",{className:_.a.total},r)}return c},He=function(g){Object(F.a)(c,g);var r=Object($.a)(c);function c(){var e;Object(R.a)(this,c);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=r.call.apply(r,[this].concat(u)),e.renderContent=function(){var l=e.props,s=l.contentHeight,h=l.title,m=l.avatar,v=l.action,i=l.total,y=l.footer,f=l.children,p=l.loading;return p?!1:t.a.createElement("div",{className:_.a.chartCard},t.a.createElement("div",{className:he()(_.a.chartTop,Object(ue.a)({},_.a.chartTopMargin,!f&&!y))},t.a.createElement("div",{className:_.a.avatar},m),t.a.createElement("div",{className:_.a.metaWrap},t.a.createElement("div",{className:_.a.meta},t.a.createElement("span",{className:_.a.title},h),t.a.createElement("span",{className:_.a.action},v)),Ie(i))),f&&t.a.createElement("div",{className:_.a.content,style:{height:s||"auto"}},t.a.createElement("div",{className:s&&_.a.contentFixed},f)),y&&t.a.createElement("div",{className:he()(_.a.footer,Object(ue.a)({},_.a.footerMargin,!f))},y))},e}return Object(A.a)(c,[{key:"render",value:function(){var n=this.props,u=n.loading,o=u===void 0?!1:u,l=n.contentHeight,s=n.title,h=n.avatar,m=n.action,v=n.total,i=n.footer,y=n.children,f=Object(We.a)(n,["loading","contentHeight","title","avatar","action","total","footer","children"]);return t.a.createElement(Ee.a,Object(T.a)({loading:o,bodyStyle:{padding:"20px 24px 8px 24px"}},f),this.renderContent())}}]),c}(t.a.Component),Te=He,Ue=a("BASP"),Ce=a.n(Ue),Ge=function(r){var c=r.label,e=r.value,n=Object(We.a)(r,["label","value"]);return t.a.createElement("div",Object(T.a)({className:Ce.a.field},n),t.a.createElement("span",{className:Ce.a.label},c),t.a.createElement("span",{className:Ce.a.number},e))},be=Ge,Ke=a("gPzx"),Fe=d.Guide.Arc,Ve=d.Guide.Html,xe=d.Guide.Line,Je=function(r){switch(r){case"2":return"\u5DEE";case"4":return"\u4E2D";case"6":return"\u826F";case"8":return"\u4F18";default:return""}};d.Shape.registerShape&&d.Shape.registerShape("point","pointer",{drawShape:function(r,c){var e=r.points[0];e=this.parsePoint(e);var n=this.parsePoint({x:0,y:0});return c.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:e.x,y2:e.y,stroke:r.color,lineWidth:2,lineCap:"round"}}),c.addShape("circle",{attrs:{x:n.x,y:n.y,r:6,stroke:r.color,lineWidth:3,fill:"#fff"}})}});var Xe=function(r){var c=r.title,e=r.height,n=e===void 0?1:e,u=r.percent,o=r.forceFit,l=o===void 0?!0:o,s=r.formatter,h=s===void 0?Je:s,m=r.color,v=m===void 0?"#2F9CFF":m,i=r.bgColor,y=i===void 0?"#F0F2F5":i,f={value:{type:"linear",min:0,max:10,tickCount:6,nice:!0}},p=[{value:u/10}],M=function(){return`
    <div style="width: 300px;text-align: center;font-size: 12px!important;">
      <div style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">`.concat(c,`</div>
      <div style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">
        `).concat((p[0].value*10).toFixed(2),`%
      </div>
    </div>`)},P={fontSize:12,fill:"rgba(0, 0, 0, 0.65)",textAlign:"center"};return t.a.createElement(d.Chart,{height:n,data:p,scale:f,padding:[-16,0,16,0],forceFit:l},t.a.createElement(d.Coord,{type:"polar",startAngle:-1.25*Math.PI,endAngle:.25*Math.PI,radius:.8}),t.a.createElement(d.Axis,{name:"1",line:void 0}),t.a.createElement(d.Axis,{line:void 0,tickLine:void 0,subTickLine:void 0,name:"value",zIndex:Ke.a.cssStyle.zIndex.zIndex_2,label:{offset:-12,formatter:h,textStyle:P}}),t.a.createElement(d.Guide,null,t.a.createElement(xe,{start:[3,.905],end:[3,.85],lineStyle:{stroke:v,lineDash:void 0,lineWidth:2}}),t.a.createElement(xe,{start:[5,.905],end:[5,.85],lineStyle:{stroke:v,lineDash:void 0,lineWidth:3}}),t.a.createElement(xe,{start:[7,.905],end:[7,.85],lineStyle:{stroke:v,lineDash:void 0,lineWidth:3}}),t.a.createElement(Fe,{start:[0,.965],end:[10,.965],style:{stroke:y,lineWidth:10}}),t.a.createElement(Fe,{start:[0,.965],end:[p[0].value,.965],style:{stroke:v,lineWidth:10}}),t.a.createElement(Ve,{position:["50%","95%"],html:M()})),t.a.createElement(d.Geom,{line:!1,type:"point",position:"value*1",shape:"pointer",color:v,active:!1}))},we=N()(Xe),Q=a("k1fw"),Ye=function(r){var c=r.height,e=c===void 0?1:c,n=r.data,u=n===void 0?[]:n,o=r.forceFit,l=o===void 0?!0:o,s=r.color,h=s===void 0?"rgba(24, 144, 255, 0.2)":s,m=r.borderColor,v=m===void 0?"#1089ff":m,i=r.scale,y=i===void 0?{x:{},y:{}}:i,f=r.borderWidth,p=f===void 0?2:f,M=r.line,P=r.xAxis,O=r.yAxis,b=r.animate,E=b===void 0?!0:b,C=[36,5,30,5],D={x:Object(Q.a)({type:"cat",range:[0,1]},y.x),y:Object(Q.a)({min:0},y.y)},X=["x*y",function(Z,U){return{name:Z,value:U}}],H=e+54;return t.a.createElement("div",{className:J.a.miniChart,style:{height:e}},t.a.createElement("div",{className:J.a.chartContent},e>0&&t.a.createElement(d.Chart,{animate:E,scale:D,height:H,forceFit:l,data:u,padding:C},t.a.createElement(d.Axis,Object(T.a)({key:"axis-x",name:"x",label:null,line:null,tickLine:null,grid:null},P)),t.a.createElement(d.Axis,Object(T.a)({key:"axis-y",name:"y",label:null,line:null,tickLine:null,grid:null},O)),t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"area",position:"x*y",color:h,tooltip:X,shape:"smooth",style:{fillOpacity:1}}),M?t.a.createElement(d.Geom,{type:"line",position:"x*y",shape:"smooth",color:v,size:p,tooltip:!1}):t.a.createElement("span",{style:{display:"none"}}))))},Pe=N()(Ye),ke=function(r){var c=r.height,e=c===void 0?0:c,n=r.forceFit,u=n===void 0?!0:n,o=r.color,l=o===void 0?"#1890FF":o,s=r.data,h=s===void 0?[]:s,m={x:{type:"cat"},y:{min:0}},v=[36,5,30,5],i=["x*y",function(f,p){return{name:f,value:p}}],y=e+54;return t.a.createElement("div",{className:J.a.miniChart,style:{height:e}},t.a.createElement("div",{className:J.a.chartContent},t.a.createElement(d.Chart,{scale:m,height:y,forceFit:u,data:h,padding:v},t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"interval",position:"x*y",color:l,tooltip:i}))))},_e=N()(ke),Mt=a("5Dmo"),Qe=a("3S7+"),Ze=a("iZvO"),me=a.n(Ze),qe=function(r){var c=r.targetLabel,e=r.target,n=r.color,u=n===void 0?"rgb(19, 194, 194)":n,o=r.strokeWidth,l=r.percent;return t.a.createElement("div",{className:me.a.miniProgress},t.a.createElement(Qe.a,{title:c},t.a.createElement("div",{className:me.a.target,style:{left:e?"".concat(e,"%"):void 0}},t.a.createElement("span",{style:{backgroundColor:u||void 0}}),t.a.createElement("span",{style:{backgroundColor:u||void 0}}))),t.a.createElement("div",{className:me.a.progressWrap},t.a.createElement("div",{className:me.a.progress,style:{backgroundColor:u||void 0,width:l?"".concat(l,"%"):void 0,height:o||void 0}})))},De=qe,Ot=a("/zsF"),et=a("PArb"),Ae=a("cQSq"),Se=a.n(Ae),tt=a("Jssm"),at=a.n(tt),nt=a("fu5r"),z=a.n(nt),rt=function(g){Object(F.a)(c,g);var r=Object($.a)(c);function c(){var e;Object(R.a)(this,c);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=r.call.apply(r,[this].concat(u)),e.state={legendData:[],legendBlock:!1},e.requestRef=void 0,e.root=void 0,e.chart=void 0,e.resize=S()(function(){var l=e.props.hasLegend,s=e.state.legendBlock;if(!l||!e.root){window.removeEventListener("resize",e.resize);return}e.root&&e.root.parentNode&&e.root.parentNode.clientWidth<=380?s||e.setState({legendBlock:!0}):s&&e.setState({legendBlock:!1})},400),e.getG2Instance=function(l){e.chart=l,requestAnimationFrame(function(){e.getLegendData(),e.resize()})},e.getLegendData=function(){if(!!e.chart){var l=e.chart.getAllGeoms()[0];if(!!l){var s=l.get("dataArray")||[],h=s.map(function(m){var v=m[0]._origin;return v.color=m[0].color,v.checked=!0,v});e.setState({legendData:h})}}},e.handleRoot=function(l){e.root=l},e.handleLegendClick=function(l,s){var h=l;h.checked=!h.checked;var m=e.state.legendData;m[s]=h;var v=m.filter(function(i){return i.checked}).map(function(i){return i.x});e.chart&&e.chart.filter("x",function(i){return v.indexOf("".concat(i))>-1}),e.setState({legendData:m})},e}return Object(A.a)(c,[{key:"componentDidMount",value:function(){var n=this;window.addEventListener("resize",function(){n.requestRef=requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.data;u!==n.data&&this.getLegendData()}},{key:"componentWillUnmount",value:function(){this.requestRef&&window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize),this.resize&&this.resize.cancel()}},{key:"render",value:function(){var n,u=this,o=this.props,l=o.valueFormat,s=o.subTitle,h=o.total,m=o.hasLegend,v=m===void 0?!1:m,i=o.className,y=o.style,f=o.height,p=f===void 0?0:f,M=o.forceFit,P=M===void 0?!0:M,O=o.percent,b=o.color,E=o.inner,C=E===void 0?.75:E,D=o.animate,X=D===void 0?!0:D,H=o.colors,Z=o.lineWidth,U=Z===void 0?1:Z,te=this.state,ve=te.legendData,fe=te.legendBlock,ae=he()(z.a.pie,i,(n={},Object(ue.a)(n,z.a.hasLegend,!!v),Object(ue.a)(n,z.a.legendBlock,fe),n)),w=this.props,Oe=w.data,ie=w.selected,q=ie===void 0?!0:ie,G=w.tooltip,oe=G===void 0?!0:G,Y=Oe||[],K=q,k=oe,pe=H;Y=Y||[],K=K||!0,k=k||!0;var ne,Et={x:{type:"cat",range:[0,1]},y:{min:0}};(O||O===0)&&(K=!1,k=!1,ne=function(le){return le==="\u5360\u6BD4"?b||"rgba(24, 144, 255, 0.85)":"#F0F2F5"},Y=[{x:"\u5360\u6BD4",y:parseFloat("".concat(O))},{x:"\u53CD\u6BD4",y:100-parseFloat("".concat(O))}]);var Ct=["x*percent",function(j,le){return{name:j,value:"".concat((le*100).toFixed(2),"%")}}],xt=[12,0,12,0],Be=new Ae.DataView;return Be.source(Y).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),t.a.createElement("div",{ref:this.handleRoot,className:ae,style:y},t.a.createElement(at.a,{maxFontSize:25},t.a.createElement("div",{className:z.a.chart},t.a.createElement(d.Chart,{scale:Et,height:p,forceFit:P,data:Be,padding:xt,animate:X,onGetG2Instance:this.getG2Instance},!!k&&t.a.createElement(d.Tooltip,{showTitle:!1}),t.a.createElement(d.Coord,{type:"theta",innerRadius:C}),t.a.createElement(d.Geom,{style:{lineWidth:U,stroke:"#fff"},tooltip:k?Ct:void 0,type:"intervalStack",position:"percent",color:["x",O||O===0?ne:pe],selected:K})),(s||h)&&t.a.createElement("div",{className:z.a.total},s&&t.a.createElement("h4",{className:"pie-sub-title"},s),h&&t.a.createElement("div",{className:"pie-stat"},typeof h=="function"?h():h)))),v&&t.a.createElement("ul",{className:z.a.legend},ve.map(function(j,le){return t.a.createElement("li",{key:j.x,onClick:function(){return u.handleLegendClick(j,le)}},t.a.createElement("span",{className:z.a.dot,style:{backgroundColor:j.checked?j.color:"#aaa"}}),t.a.createElement("span",{className:z.a.legendTitle},j.x),t.a.createElement(et.a,{type:"vertical"}),t.a.createElement("span",{className:z.a.percent},"".concat((Number.isNaN(j.percent)?0:j.percent*100).toFixed(2),"%")),t.a.createElement("span",{className:z.a.value},l?l(j.y):j.y))})))}}]),c}(I.Component),Le=N()(rt),it=a("tJVT"),ot=a("/AXN"),lt=a.n(ot),st="https://gw.alipayobjects.com/zos/rmsportal/gWyeGLCdFFRavBGIDzWk.png",dt=function(g){Object(F.a)(c,g);var r=Object($.a)(c);function c(){var e;Object(R.a)(this,c);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=r.call.apply(r,[this].concat(u)),e.state={dv:null,height:0,width:0},e.isUnmount=!1,e.requestRef=0,e.root=void 0,e.imageMask=void 0,e.resize=function(){e.requestRef=requestAnimationFrame(function(){e.renderChart(e.props)})},e.saveRootRef=function(l){e.root=l},e.initTagCloud=function(){function l(s){return Object(Q.a)(Object(Q.a)({},s.style),{},{fillOpacity:s.opacity,fontSize:s.origin._origin.size,rotate:s.origin._origin.rotate,text:s.origin._origin.text,textAlign:"center",fontFamily:s.origin._origin.font,fill:s.color,textBaseline:"Alphabetic"})}d.Shape.registerShape("point","cloud",{drawShape:function(h,m){var v=l(h);return m.addShape("text",{attrs:Object(Q.a)(Object(Q.a)({},v),{},{x:h.x,y:h.y})})}})},e.renderChart=S()(function(l){var s=l||e.props,h=s.data,m=s.height;if(!(h.length<1||!e.root)){var v=m,i=e.root.offsetWidth,y=function(){var p=new Se.a.View().source(h),M=p.range("value"),P=Object(it.a)(M,2),O=P[0],b=P[1];p.transform({type:"tag-cloud",fields:["name","value"],imageMask:e.imageMask,font:"Verdana",size:[i,v],padding:0,timeInterval:5e3,rotate:function(){return 0},fontSize:function(C){var D=Math.pow((C.value-O)/(b-O),2);return D*(17.5-5)+5}}),!e.isUnmount&&e.setState({dv:p,width:i,height:v})};e.imageMask?y():(e.imageMask=new Image,e.imageMask.crossOrigin="",e.imageMask.src=st,e.imageMask.onload=y)}},500),e}return Object(A.a)(c,[{key:"componentDidMount",value:function(){var n=this;requestAnimationFrame(function(){n.initTagCloud(),n.renderChart(n.props)}),window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.data;n&&JSON.stringify(n.data)!==JSON.stringify(u)&&this.renderChart(this.props)}},{key:"componentWillUnmount",value:function(){this.isUnmount=!0,window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,u=n.className,o=n.height,l=this.state,s=l.dv,h=l.width,m=l.height;return t.a.createElement("div",{className:he()(lt.a.tagCloud,u),style:{width:"100%",height:o},ref:this.saveRootRef},s&&t.a.createElement(d.Chart,{width:h,height:m,data:s,padding:0,scale:{x:{nice:!1},y:{nice:!1}}},t.a.createElement(d.Tooltip,{showTitle:!1}),t.a.createElement(d.Coord,{reflect:"y"}),t.a.createElement(d.Geom,{type:"point",position:"x*y",color:"text",shape:"cloud",tooltip:["text*value",function(i,y){return{name:i,value:y}}]})))}}]),c}(I.Component),ct=N()(dt),Ne=a("oBTY"),ut=a("1Gbu"),ht=a.n(ut),mt=a("erxF"),vt=a.n(mt),ft=function(r){var c=r.title,e=r.height,n=e===void 0?400:e,u=r.padding,o=u===void 0?[60,20,40,40]:u,l=r.titleMap,s=l===void 0?{y1:"y1",y2:"y2"}:l,h=r.borderWidth,m=h===void 0?2:h,v=r.data,i=Array.isArray(v)?v:[{x:0,y1:0,y2:0}];i.sort(function(b,E){return b.x-E.x});var y;i[0]&&i[0].y1&&i[0].y2&&(y=Math.max(Object(Ne.a)(i).sort(function(b,E){return E.y1-b.y1})[0].y1,Object(Ne.a)(i).sort(function(b,E){return E.y2-b.y2})[0].y2));var f=new Se.a({state:{start:i[0].x,end:i[i.length-1].x}}),p=f.createView();p.source(i).transform({type:"filter",callback:function(E){var C=E.x;return C<=f.state.end&&C>=f.state.start}}).transform({type:"map",callback:function(E){var C=Object(Q.a)({},E);return C[s.y1]=E.y1,C[s.y2]=E.y2,C}}).transform({type:"fold",fields:[s.y1,s.y2],key:"key",value:"value"});var M={type:"time",tickInterval:60*60*1e3,mask:"HH:mm",range:[0,1]},P={x:M,value:{max:y,min:0}},O=function(){return t.a.createElement(ht.a,{padding:[0,o[1]+20,0,o[3]],width:"auto",height:26,xAxis:"x",yAxis:"y1",scales:{x:M},data:i,start:f.state.start,end:f.state.end,backgroundChart:{type:"line"},onChange:function(C){var D=C.startValue,X=C.endValue;f.setState("start",D),f.setState("end",X)}})};return t.a.createElement("div",{className:vt.a.timelineChart,style:{height:n+30}},t.a.createElement("div",null,c&&t.a.createElement("h4",null,c),t.a.createElement(d.Chart,{height:n,padding:o,data:p,scale:P,forceFit:!0},t.a.createElement(d.Axis,{name:"x"}),t.a.createElement(d.Tooltip,null),t.a.createElement(d.Legend,{name:"key",position:"top"}),t.a.createElement(d.Geom,{type:"line",position:"x*value",size:m,color:"key"})),t.a.createElement("div",{style:{marginRight:-20}},t.a.createElement(O,null))))},je=N()(ft),pt=a("tGrY"),Me=a.n(pt),gt=function(g){Object(F.a)(c,g);var r=Object($.a)(c);function c(){var e;Object(R.a)(this,c);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=r.call.apply(r,[this].concat(u)),e.state={radio:1},e.timer=0,e.root=null,e.node=null,e.resize=function(){if(e.root){var l=e.props.height,s=l===void 0?1:l,h=e.root.parentNode,m=h.offsetWidth;e.setState({radio:m<s?m/s:1})}},e}return Object(A.a)(c,[{key:"componentDidMount",value:function(){var n=this;this.renderChart(),this.resize(),window.addEventListener("resize",function(){requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.percent;n.percent!==u&&this.renderChart("update")}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}},{key:"renderChart",value:function(n){var u=this.props,o=u.percent,l=u.color,s=l===void 0?"#1890FF":l,h=o/100,m=this;if(cancelAnimationFrame(this.timer),!this.node||h!==0&&!h)return;var v=this.node,i=v.getContext("2d");if(!i)return;var y=v.width,f=v.height,p=y/2,M=2,P=p-M;i.beginPath(),i.lineWidth=M*2;for(var O=y-M,b=O/8,E=.2,C=E,D=M,X=0,H=0,Z=.005,U=[],te=p-M,ve=-(Math.PI/2),fe=!0,ae=ve;ae<ve+2*Math.PI;ae+=1/(8*Math.PI))U.push([p+te*Math.cos(ae),p+te*Math.sin(ae)]);var w=U.shift();i.strokeStyle=s,i.moveTo(w[0],w[1]);function Oe(){if(!!i){i.beginPath(),i.save();for(var q=[],G=D;G<=D+O;G+=20/O){var oe=X+(D+G)/b,Y=Math.sin(oe)*C,K=G,k=2*P*(1-H)+(p-P)-b*Y;i.lineTo(K,k),q.push([K,k])}var pe=q.shift();i.lineTo(D+O,f),i.lineTo(D,f),i.lineTo(pe[0],pe[1]);var ne=i.createLinearGradient(0,0,0,f);ne.addColorStop(0,"#ffffff"),ne.addColorStop(1,s),i.fillStyle=ne,i.fill(),i.restore()}}function ie(){if(!!i){if(i.clearRect(0,0,y,f),fe&&n!=="update")if(U.length){var q=U.shift();i.lineTo(q[0],q[1]),i.stroke()}else fe=!1,i.lineTo(w[0],w[1]),i.stroke(),U=[],i.globalCompositeOperation="destination-over",i.beginPath(),i.lineWidth=M,i.arc(p,p,te,0,2*Math.PI,!0),i.beginPath(),i.save(),i.arc(p,p,p-3*M,0,2*Math.PI,!0),i.restore(),i.clip(),i.fillStyle=s;else{if(h>=.85){if(C>E/4){var G=E*.01;C-=G}}else if(h<=.1){if(C<E*1.5){var oe=E*.01;C+=oe}}else{if(C<=E){var Y=E*.01;C+=Y}if(C>=E){var K=E*.01;C-=K}}h-H>0&&(H+=Z),h-H<0&&(H-=Z),X+=.07,Oe()}m.timer=requestAnimationFrame(ie)}}ie()}},{key:"render",value:function(){var n=this,u=this.state.radio,o=this.props,l=o.percent,s=o.title,h=o.height,m=h===void 0?1:h;return t.a.createElement("div",{className:Me.a.waterWave,ref:function(i){return n.root=i},style:{transform:"scale(".concat(u,")")}},t.a.createElement("div",{style:{width:m,height:m,overflow:"hidden"}},t.a.createElement("canvas",{className:Me.a.waterWaveCanvasWrapper,ref:function(i){return n.node=i},width:m*2,height:m*2})),t.a.createElement("div",{className:Me.a.text,style:{width:m}},s&&t.a.createElement("span",null,s),t.a.createElement("h4",null,l,"%")))}}]),c}(I.Component),yt=N()(gt),$e=function(r){return"\xA5 ".concat(re()(r).format("0,0"))},Wt={yuan:$e,Bar:de,Pie:Le,Gauge:we,MiniBar:_e,MiniArea:Pe,MiniProgress:De,ChartCard:Te,Field:be,WaterWave:yt,TagCloud:ct,TimelineChart:je}}}]);
