(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{a3w7:function(g,l,t){"use strict";t.r(l);var p=t("14J3"),C=t("BMrR"),F=t("+L6B"),j=t("2/Rp"),ce=t("jCWc"),A=t("kPKH"),ue=t("Q9mQ"),S=t("diRs"),me=t("MXD1"),N=t("CFYs"),I=t("k1fw"),Ee=t("miYZ"),x=t("tsqr"),m=t("tJVT"),ge=t("5NDa"),d=t("5rEg"),pe=t("OaEy"),b=t("2fM7"),Oe=t("y8nQ"),O=t("Vl3Y"),o=t("q1tI"),e=t.n(o),r=t("9kvl"),z=t("uYtH"),V=t("sYde"),n=t.n(V),c=O.a.Item,R=b.a.Option,J=d.a.Group,Y={ok:e.a.createElement("div",{className:n.a.success},e.a.createElement(r.a,{id:"userandregister.strength.strong"})),pass:e.a.createElement("div",{className:n.a.warning},e.a.createElement(r.a,{id:"userandregister.strength.medium"})),poor:e.a.createElement("div",{className:n.a.error},e.a.createElement(r.a,{id:"userandregister.strength.short"}))},G={ok:"success",pass:"normal",poor:"exception"},Q=function(E){var P=E.submitting,H=E.dispatch,f=E.userAndregister,$=Object(o.useState)(0),W=Object(m.a)($,2),M=W[0],B=W[1],X=Object(o.useState)(!1),T=Object(m.a)(X,2),D=T[0],y=T[1],Z=Object(o.useState)("86"),K=Object(m.a)(Z,2),L=K[0],k=K[1],q=Object(o.useState)(!1),U=Object(m.a)(q,2),ee=U[0],te=U[1],ae=!1,h,re=O.a.useForm(),se=Object(m.a)(re,1),i=se[0];Object(o.useEffect)(function(){if(!!f){var _=i.getFieldValue("mail");f.status==="ok"&&(x.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),r.f.push({pathname:"/user/register-result",state:{account:_}}))}},[f]),Object(o.useEffect)(function(){return function(){clearInterval(h)}},[]);var ne=function(){var a=59;B(a),h=window.setInterval(function(){a-=1,B(a),a===0&&clearInterval(h)},1e3)},w=function(){var a=i.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},_e=function(a){H({type:"userAndregister/submit",payload:Object(I.a)(Object(I.a)({},a),{},{prefix:L})})},ie=function(a,s){var u=Promise;return s&&s!==i.getFieldValue("password")?u.reject(Object(r.d)({id:"userandregister.password.twice"})):u.resolve()},oe=function(a,s){var u=Promise;return s?(D||y(!!s),te(!ee),s.length<6?u.reject(""):(s&&ae&&i.validateFields(["confirm"]),u.resolve())):(y(!!s),u.reject(Object(r.d)({id:"userandregister.password.required"})))},le=function(a){k(a)},de=function(){var a=i.getFieldValue("password"),s=w();return a&&a.length?e.a.createElement("div",{className:n.a["progress-".concat(s)]},e.a.createElement(N.a,{status:G[s],className:n.a.progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})):null};return e.a.createElement("div",{className:n.a.main},e.a.createElement("h3",null,e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(O.a,{form:i,name:"UserRegister",onFinish:_e},e.a.createElement(c,{name:"mail",rules:[{required:!0,message:Object(r.d)({id:"userandregister.email.required"})},{type:"email",message:Object(r.d)({id:"userandregister.email.wrong-format"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.email.placeholder"})})),e.a.createElement(S.a,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:D&&e.a.createElement("div",{style:{padding:"4px 0"}},Y[w()],de(),e.a.createElement("div",{style:{marginTop:10}},e.a.createElement(r.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:D},e.a.createElement(c,{name:"password",className:i.getFieldValue("password")&&i.getFieldValue("password").length>0&&n.a.password,rules:[{validator:oe}]},e.a.createElement(d.a,{size:"large",type:"password",placeholder:Object(r.d)({id:"userandregister.password.placeholder"})}))),e.a.createElement(c,{name:"confirm",rules:[{required:!0,message:Object(r.d)({id:"userandregister.confirm-password.required"})},{validator:ie}]},e.a.createElement(d.a,{size:"large",type:"password",placeholder:Object(r.d)({id:"userandregister.confirm-password.placeholder"})})),e.a.createElement(J,{compact:!0},e.a.createElement(b.a,{size:"large",value:L,onChange:le,style:{width:"20%"}},e.a.createElement(R,{value:"86"},"+86"),e.a.createElement(R,{value:"87"},"+87")),e.a.createElement(c,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(r.d)({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(r.d)({id:"userandregister.phone-number.wrong-format"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.phone-number.placeholder"})}))),e.a.createElement(C.a,{gutter:8},e.a.createElement(A.a,{span:16},e.a.createElement(c,{name:"captcha",rules:[{required:!0,message:Object(r.d)({id:"userandregister.verification-code.required"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.verification-code.placeholder"})}))),e.a.createElement(A.a,{span:8},e.a.createElement(j.a,{size:"large",disabled:!!M,className:n.a.getCaptcha,onClick:ne},M?"".concat(M," s"):Object(r.d)({id:"userandregister.register.get-verification-code"})))),e.a.createElement(c,null,e.a.createElement(j.a,{size:"large",loading:P,className:n.a.submit,type:"primary",htmlType:"submit"},e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(z.a,{className:n.a.login,to:"/user/login"},e.a.createElement(r.a,{id:"userandregister.register.sign-in"})))))};l.default=Object(r.c)(function(v){var E=v.userAndregister,P=v.loading;return{userAndregister:E,submitting:P.effects["userAndregister/submit"]}})(Q)},jCWc:function(g,l,t){"use strict";var p=t("EFp3"),C=t.n(p),F=t("1GLa")},kPKH:function(g,l,t){"use strict";var p=t("/kpp");l.a=p.a},sYde:function(g,l,t){g.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
