(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6527],{467452:function(p){p.exports={baseView:"baseView___3sRG3",left:"left___GavW0",right:"right___3-EXe",avatar_title:"avatar_title___13ztg",avatar:"avatar___1GisI",button_view:"button_view___o9apF"}},338185:function(p){p.exports={row:"row___J_FI0",item:"item___2gpD9"}},313716:function(p){p.exports={area_code:"area_code___2LS8F",phone_number:"phone_number___1PO0T"}},945133:function(p){p.exports={main:"main___2yGev",leftMenu:"leftMenu___179-W",right:"right___2jdGg",title:"title___3cGwa"}},577759:function(p,V,c){"use strict";c.r(V),c.d(V,{default:function(){return le}});var me=c(703494),P=c(30951),h=c(686137),y=c(338324),E=c(838339),w=c(677971),e=c(556692),a=c(484776),F=c(253661),ve=c(182785),v=c(848603),ge=c(15746),Z=c(631314),pe=c(765418),U=c(133),fe=c(616110),H=c(900133),he=c(48602),S=c(808117),ye=c(76115),C=c(625150),D=c(52503),Ee=c(885966),B=c(635321),z=c(438026),G=c(338185),I=c.n(G),N=C.Z.Option,b={label:"",value:"",key:""},x=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(){var i;(0,h.Z)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=u.call.apply(u,[this].concat(s)),i.componentDidMount=function(){var o=i.props.dispatch;o&&o({type:"accountAndsettings/fetchProvince"})},i.getCityOption=function(){var o=i.props.city;return o?i.getOption(o):[]},i.getOption=function(o){return!o||o.length<1?e.createElement(N,{key:0,value:0},"\u6CA1\u6709\u627E\u5230\u9009\u9879"):o.map(function(d){return e.createElement(N,{key:d.id,value:d.id},d.name)})},i.selectProvinceItem=function(o){var d=i.props,f=d.dispatch,m=d.onChange;f&&f({type:"accountAndsettings/fetchCity",payload:o.key}),m&&m({province:o,city:b})},i.selectCityItem=function(o){var d=i.props,f=d.value,m=d.onChange;f&&m&&m({province:f.province,city:o})},i}return(0,y.Z)(r,[{key:"componentDidUpdate",value:function(t){var s=this.props,n=s.dispatch,o=s.value;!t.value&&!!o&&!!o.province&&n&&n({type:"accountAndsettings/fetchCity",payload:o.province.key})}},{key:"getProvinceOption",value:function(){var t=this.props.province;return t?this.getOption(t):[]}},{key:"conversionObject",value:function(){var t=this.props.value;if(!t)return{province:b,city:b};var s=t.province,n=t.city;return{province:s||b,city:n||b}}},{key:"render",value:function(){var t=this.conversionObject(),s=t.province,n=t.city,o=this.props.loading;return e.createElement(B.Z,{spinning:o,wrapperClassName:I().row},e.createElement(C.Z,{className:I().item,value:s,labelInValue:!0,showSearch:!0,onSelect:this.selectProvinceItem},this.getProvinceOption()),e.createElement(C.Z,{className:I().item,value:n,labelInValue:!0,showSearch:!0,onSelect:this.selectCityItem},this.getCityOption()))}}]),r}(e.Component),K=(0,z.connect)(function(l){var u=l.accountAndsettings,r=l.loading,i=u.province,t=u.city;return{province:i,city:t,loading:r.models.accountAndsettings}})(x),W=c(313716),O=c.n(W),L=function(u){var r=u.value,i=u.onChange,t=["",""];return r&&(t=r.split("-")),e.createElement(e.Fragment,null,e.createElement(Z.Z,{className:O().area_code,value:t[0],onChange:function(s){function n(o){return s.apply(this,arguments)}return n.toString=function(){return s.toString()},n}(function(s){i&&i("".concat(s.target.value,"-").concat(t[1]))})}),e.createElement(Z.Z,{className:O().phone_number,onChange:function(s){function n(o){return s.apply(this,arguments)}return n.toString=function(){return s.toString()},n}(function(s){i&&i("".concat(t[0],"-").concat(s.target.value))}),value:t[1]}))},j=L,R=c(467452),M=c.n(R),$=C.Z.Option,T=function(u){var r=u.avatar;return e.createElement(e.Fragment,null,e.createElement("div",{className:M().avatar_title},e.createElement(a._H,{id:"accountandsettings.basic.avatar",defaultMessage:"Avatar"})),e.createElement("div",{className:M().avatar},e.createElement("img",{src:r,alt:"avatar"})),e.createElement(H.Z,{showUploadList:!1},e.createElement("div",{className:M().button_view},e.createElement(S.Z,null,e.createElement(D.Z,null),e.createElement(a._H,{id:"accountandsettings.basic.change-avatar",defaultMessage:"Change avatar"})))))},J=function(u,r,i){var t=r.province,s=r.city;t.key||i("Please input your province!"),s.key||i("Please input your city!"),i()},X=function(u,r,i){var t=r.split("-");t[0]||i("Please input your area code!"),t[1]||i("Please input your phone number!"),i()},Q=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(){var i;(0,h.Z)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=u.call.apply(u,[this].concat(s)),i.view=void 0,i.getViewDom=function(o){i.view=o},i.handleFinish=function(){U.default.success((0,a.wv)({id:"accountandsettings.basic.update.success"}))},i}return(0,y.Z)(r,[{key:"getAvatarURL",value:function(){var t=this.props.currentUser;if(t){if(t.avatar)return t.avatar;var s="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return s}return""}},{key:"render",value:function(){var t=this.props.currentUser;return e.createElement("div",{className:M().baseView,ref:this.getViewDom},e.createElement("div",{className:M().left},e.createElement(v.Z,{layout:"vertical",onFinish:this.handleFinish,initialValues:t,hideRequiredMark:!0},e.createElement(v.Z.Item,{name:"email",label:(0,a.wv)({id:"accountandsettings.basic.email"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.email-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"name",label:(0,a.wv)({id:"accountandsettings.basic.nickname"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.nickname-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"profile",label:(0,a.wv)({id:"accountandsettings.basic.profile"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.profile-message"},{})}]},e.createElement(Z.Z.TextArea,{placeholder:(0,a.wv)({id:"accountandsettings.basic.profile-placeholder"}),rows:4})),e.createElement(v.Z.Item,{name:"country",label:(0,a.wv)({id:"accountandsettings.basic.country"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.country-message"},{})}]},e.createElement(C.Z,{style:{maxWidth:220}},e.createElement($,{value:"China"},"\u4E2D\u56FD"))),e.createElement(v.Z.Item,{name:"geographic",label:(0,a.wv)({id:"accountandsettings.basic.geographic"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.geographic-message"},{})},{validator:J}]},e.createElement(K,null)),e.createElement(v.Z.Item,{name:"address",label:(0,a.wv)({id:"accountandsettings.basic.address"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.address-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"phone",label:(0,a.wv)({id:"accountandsettings.basic.phone"}),rules:[{required:!0,message:(0,a.wv)({id:"accountandsettings.basic.phone-message"},{})},{validator:X}]},e.createElement(j,null)),e.createElement(v.Z.Item,null,e.createElement(S.Z,{htmlType:"submit",type:"primary"},e.createElement(a._H,{id:"accountandsettings.basic.update",defaultMessage:"Update Information"}))))),e.createElement("div",{className:M().right},e.createElement(T,{avatar:this.getAvatarURL()})))}}]),r}(e.Component),Y=(0,a.$j)(function(l){var u=l.accountAndsettings;return{currentUser:u.currentUser}})(Q),we=c(540675),g=c(963715),k=c(298124),q=c(610994),_=c(340344),ee=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(){var i;(0,h.Z)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=u.call.apply(u,[this].concat(s)),i.getData=function(){return[{title:(0,a.wv)({id:"accountandsettings.binding.taobao"},{}),description:(0,a.wv)({id:"accountandsettings.binding.taobao-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(a._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(k.Z,{className:"taobao"})},{title:(0,a.wv)({id:"accountandsettings.binding.alipay"},{}),description:(0,a.wv)({id:"accountandsettings.binding.alipay-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(a._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(q.Z,{className:"alipay"})},{title:(0,a.wv)({id:"accountandsettings.binding.dingding"},{}),description:(0,a.wv)({id:"accountandsettings.binding.dingding-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(a._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(_.Z,{className:"dingding"})}]},i}return(0,y.Z)(r,[{key:"render",value:function(){return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:this.getData(),renderItem:function(s){return e.createElement(g.ZP.Item,{actions:s.actions},e.createElement(g.ZP.Item.Meta,{avatar:s.avatar,title:s.title,description:s.description}))}}))}}]),r}(e.Component),te=ee,Ze=c(4526),ne=c(194280),ae=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(){var i;(0,h.Z)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=u.call.apply(u,[this].concat(s)),i.getData=function(){var o=e.createElement(ne.Z,{checkedChildren:(0,a.wv)({id:"accountandsettings.settings.open"}),unCheckedChildren:(0,a.wv)({id:"accountandsettings.settings.close"}),defaultChecked:!0});return[{title:(0,a.wv)({id:"accountandsettings.notification.password"},{}),description:(0,a.wv)({id:"accountandsettings.notification.password-description"},{}),actions:[o]},{title:(0,a.wv)({id:"accountandsettings.notification.messages"},{}),description:(0,a.wv)({id:"accountandsettings.notification.messages-description"},{}),actions:[o]},{title:(0,a.wv)({id:"accountandsettings.notification.todo"},{}),description:(0,a.wv)({id:"accountandsettings.notification.todo-description"},{}),actions:[o]}]},i}return(0,y.Z)(r,[{key:"render",value:function(){var t=this.getData();return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(n){return e.createElement(g.ZP.Item,{actions:n.actions},e.createElement(g.ZP.Item.Meta,{title:n.title,description:n.description}))}}))}}]),r}(e.Component),ie=ae,re={strong:e.createElement("span",{className:"strong"},e.createElement(a._H,{id:"accountandsettings.security.strong",defaultMessage:"Strong"})),medium:e.createElement("span",{className:"medium"},e.createElement(a._H,{id:"accountandsettings.security.medium",defaultMessage:"Medium"})),weak:e.createElement("span",{className:"weak"},e.createElement(a._H,{id:"accountandsettings.security.weak",defaultMessage:"Weak"}),"Weak")},se=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(){var i;(0,h.Z)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=u.call.apply(u,[this].concat(s)),i.getData=function(){return[{title:(0,a.wv)({id:"accountandsettings.security.password"},{}),description:e.createElement(e.Fragment,null,(0,a.wv)({id:"accountandsettings.security.password-description"}),"\uFF1A",re.strong),actions:[e.createElement("a",{key:"Modify"},e.createElement(a._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,a.wv)({id:"accountandsettings.security.phone"},{}),description:"".concat((0,a.wv)({id:"accountandsettings.security.phone-description"},{}),"\uFF1A138****8293"),actions:[e.createElement("a",{key:"Modify"},e.createElement(a._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,a.wv)({id:"accountandsettings.security.question"},{}),description:(0,a.wv)({id:"accountandsettings.security.question-description"},{}),actions:[e.createElement("a",{key:"Set"},e.createElement(a._H,{id:"accountandsettings.security.set",defaultMessage:"Set"}))]},{title:(0,a.wv)({id:"accountandsettings.security.email"},{}),description:"".concat((0,a.wv)({id:"accountandsettings.security.email-description"},{}),"\uFF1Aant***sign.com"),actions:[e.createElement("a",{key:"Modify"},e.createElement(a._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,a.wv)({id:"accountandsettings.security.mfa"},{}),description:(0,a.wv)({id:"accountandsettings.security.mfa-description"},{}),actions:[e.createElement("a",{key:"bind"},e.createElement(a._H,{id:"accountandsettings.security.bind",defaultMessage:"Bind"}))]}]},i}return(0,y.Z)(r,[{key:"render",value:function(){var t=this.getData();return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(n){return e.createElement(g.ZP.Item,{actions:n.actions},e.createElement(g.ZP.Item.Meta,{title:n.title,description:n.description}))}}))}}]),r}(e.Component),ce=se,oe=c(945133),A=c.n(oe),ue=function(l){(0,E.Z)(r,l);var u=(0,w.Z)(r);function r(i){var t;(0,h.Z)(this,r),t=u.call(this,i),t.main=void 0,t.getMenu=function(){var n=t.state.menuMap;return Object.keys(n).map(function(o){return e.createElement(P.Z.Item,{key:o},n[o])})},t.getRightTitle=function(){var n=t.state,o=n.selectKey,d=n.menuMap;return d[o]},t.selectKey=function(n){t.setState({selectKey:n})},t.resize=function(){!t.main||requestAnimationFrame(function(){if(!!t.main){var n="inline",o=t.main.offsetWidth;t.main.offsetWidth<641&&o>400&&(n="horizontal"),window.innerWidth<768&&o>400&&(n="horizontal"),t.setState({mode:n})}})},t.renderChildren=function(){var n=t.state.selectKey;switch(n){case"base":return e.createElement(Y,null);case"security":return e.createElement(ce,null);case"binding":return e.createElement(te,null);case"notification":return e.createElement(ie,null);default:break}return null};var s={base:e.createElement(a._H,{id:"accountandsettings.menuMap.basic",defaultMessage:"Basic Settings"}),security:e.createElement(a._H,{id:"accountandsettings.menuMap.security",defaultMessage:"Security Settings"}),binding:e.createElement(a._H,{id:"accountandsettings.menuMap.binding",defaultMessage:"Account Binding"}),notification:e.createElement(a._H,{id:"accountandsettings.menuMap.notification",defaultMessage:"New Message Notification"})};return t.state={mode:"inline",menuMap:s,selectKey:"base"},t}return(0,y.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.dispatch;t({type:"accountAndsettings/fetchCurrent"}),window.addEventListener("resize",this.resize),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var t=this,s=this.props.currentUser;if(!s.userid)return"";var n=this.state,o=n.mode,d=n.selectKey;return e.createElement(F.Z,null,e.createElement("div",{className:A().main,ref:function(m){m&&(t.main=m)}},e.createElement("div",{className:A().leftMenu},e.createElement(P.Z,{mode:o,selectedKeys:[d],onClick:function(m){var de=m.key;return t.selectKey(de)}},this.getMenu())),e.createElement("div",{className:A().right},e.createElement("div",{className:A().title},this.getRightTitle()),this.renderChildren())))}}]),r}(e.Component),le=(0,a.$j)(function(l){var u=l.accountAndsettings;return{currentUser:u.currentUser}})(ue)}}]);
