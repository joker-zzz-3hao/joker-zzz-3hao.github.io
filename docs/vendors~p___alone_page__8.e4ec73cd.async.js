(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{h6EL:function(Pt,Wt,U){"use strict";var A=U("qnTB"),vt=U("IrRn"),gt=U("G+eS"),mt=U("+V6l"),wt=U("XoG2");Object(vt.a)([mt.a,wt.a]);var Ot={init:function(){return gt.l.apply(null,arguments)}};A.t({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(r){return{fill:r.get("color")}},visualDrawType:"fill",optionUpdated:function(){var r=this.option;r.gridSize=Math.max(Math.floor(r.gridSize),4)},getInitialData:function(r,a){var l=A.A.createDimensions(r.data,{coordDimensions:["value"]}),t=new A.e(l,this);return t.initData(r.data),t},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}}),A.q({type:"wordCloud",render:function(r,a,l){var t=this.group;t.removeAll();var x=r.getData(),u=r.get("gridSize");r.layoutInstance.ondraw=function(i,I,B,O){var L=x.getItemModel(B),D=L.getModel("textStyle"),p=new A.z.Text({style:A.A.createTextStyle(D),scaleX:1/O.info.mu,scaleY:1/O.info.mu,x:(O.gx+O.info.gw/2)*u,y:(O.gy+O.info.gh/2)*u,rotation:O.rot});p.setStyle({x:O.info.fillTextOffsetX,y:O.info.fillTextOffsetY+I*.5,text:i,verticalAlign:"middle",fill:x.getItemVisual(B,"style").fill,fontSize:I}),t.add(p),x.setItemGraphicEl(B,p),p.ensureState("emphasis").style=A.A.createTextStyle(L.getModel(["emphasis","textStyle"]),{state:"emphasis"}),p.ensureState("blur").style=A.A.createTextStyle(L.getModel(["blur","textStyle"]),{state:"blur"}),A.A.enableHoverEmphasis(p,L.get(["emphasis","focus"]),L.get(["emphasis","blurScope"])),p.stateTransition={duration:r.get("animation")?r.get(["stateAnimation","duration"]):0,easing:r.get(["stateAnimation","easing"])},p.__highDownDispatcher=!0},this._model=r},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var a=[void 0],l="zero-timeout-message",t=function(u){var i=a.length;return a.push(u),window.postMessage(l+i.toString(36),"*"),i};return window.addEventListener("message",function(u){if(!(typeof u.data!="string"||u.data.substr(0,l.length)!==l)){u.stopImmediatePropagation();var i=parseInt(u.data.substr(l.length),36);!a[i]||(a[i](),a[i]=void 0)}},!0),window.clearImmediate=function(u){!a[u]||(a[u]=void 0)},t}()||function(a){window.setTimeout(a,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(a){window.clearTimeout(a)}}());var Q=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var a=r.getContext("2d");return!(!a||!a.getImageData||!a.fillText||!Array.prototype.some||!Array.prototype.push)}(),$=function(){if(!!Q){for(var r=document.createElement("canvas").getContext("2d"),a=20,l,t;a;){if(r.font=a.toString(10)+"px sans-serif",r.measureText("\uFF37").width===l&&r.measureText("m").width===t)return a+1;l=r.measureText("\uFF37").width,t=r.measureText("m").width,a--}return 0}}(),pt=function(r){if(Array.isArray(r)){var a=r.slice();return a.splice(0,2),a}else return[]},yt=function(r){for(var a,l,t=r.length;t;)a=Math.floor(Math.random()*t),l=r[--t],r[t]=r[a],r[a]=l;return r},J={},_=function(r,a){if(!Q)return;var l=Math.floor(Math.random()*Date.now());Array.isArray(r)||(r=[r]),r.forEach(function(v,e){if(typeof v=="string"){if(r[e]=document.getElementById(v),!r[e])throw new Error("The element id specified is not found.")}else if(!v.tagName&&!v.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(a)for(var x in a)x in t&&(t[x]=a[x]);if(typeof t.weightFactor!="function"){var u=t.weightFactor;t.weightFactor=function(e){return e*u}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(e){return 1-Math.sin(e)};break;case"diamond":t.shape=function(e){var n=e%(2*Math.PI/4);return 1/(Math.cos(n)+Math.sin(n))};break;case"square":t.shape=function(e){return Math.min(1/Math.abs(Math.cos(e)),1/Math.abs(Math.sin(e)))};break;case"triangle-forward":t.shape=function(e){var n=e%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"triangle":case"triangle-upright":t.shape=function(e){var n=(e+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"pentagon":t.shape=function(e){var n=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(n)+.726543*Math.sin(n))};break;case"star":t.shape=function(e){var n=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-n)+3.07768*Math.sin(2*Math.PI/10-n)):1/(Math.cos(n)+3.07768*Math.sin(n))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var i=t.gridSize,I=i-t.maskGapWidth,B=Math.abs(t.maxRotation-t.minRotation),O=Math.min(t.maxRotation,t.minRotation),L=t.rotationStep,D,p,E,H,R,z,q;function ut(v,e){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(e-v)+v).toFixed()+"%)"}switch(t.color){case"random-dark":q=function(){return ut(10,50)};break;case"random-light":q=function(){return ut(50,90)};break;default:typeof t.color=="function"&&(q=t.color);break}var V;typeof t.fontWeight=="function"&&(V=t.fontWeight);var tt=null;typeof t.classes=="function"&&(tt=t.classes);var et=!1,K=[],at,dt=function(e){var n=e.currentTarget,o=n.getBoundingClientRect(),s,f;e.touches?(s=e.touches[0].clientX,f=e.touches[0].clientY):(s=e.clientX,f=e.clientY);var m=s-o.left,h=f-o.top,g=Math.floor(m*(n.width/o.width||1)/i),M=Math.floor(h*(n.height/o.height||1)/i);return K[g]?K[g][M]:null},ht=function(e){var n=dt(e);if(at!==n){if(at=n,!n){t.hover(void 0,void 0,e);return}t.hover(n.item,n.dimension,e)}},rt=function(e){var n=dt(e);!n||(t.click(n.item,n.dimension,e),e.preventDefault())},it=[],Tt=function(e){if(it[e])return it[e];var n=e*8,o=n,s=[];for(e===0&&s.push([H[0],H[1],0]);o--;){var f=1;t.shape!=="circle"&&(f=t.shape(o/n*2*Math.PI)),s.push([H[0]+e*f*Math.cos(-o/n*2*Math.PI),H[1]+e*f*Math.sin(-o/n*2*Math.PI)*t.ellipticity,o/n*2*Math.PI])}return it[e]=s,s},nt=function(){return t.abortThreshold>0&&new Date().getTime()-z>t.abortThreshold},Mt=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:B===0?O:O+Math.round(Math.random()*B/L)*L},It=function(e,n,o,s){var f=!1,m=t.weightFactor(n);if(m<=t.minSize)return!1;var h=1;m<$&&(h=function(){for(var ft=2;ft*m<$;)ft+=2;return ft}());var g;V?g=V(e,n,m,s):g=t.fontWeight;var M=document.createElement("canvas"),d=M.getContext("2d",{willReadFrequently:!0});d.font=g+" "+(m*h).toString(10)+"px "+t.fontFamily;var S=d.measureText(e).width/h,y=Math.max(m*h,d.measureText("m").width,d.measureText("\uFF37").width)/h,C=S+y*2,F=y*3,Y=Math.ceil(C/i),k=Math.ceil(F/i);C=Y*i,F=k*i;var c=-S/2,T=-y*.4,b=Math.ceil((C*Math.abs(Math.sin(o))+F*Math.abs(Math.cos(o)))/i),P=Math.ceil((C*Math.abs(Math.cos(o))+F*Math.abs(Math.sin(o)))/i),Z=P*i,N=b*i;M.setAttribute("width",Z),M.setAttribute("height",N),f&&(document.body.appendChild(M),d.save()),d.scale(1/h,1/h),d.translate(Z*h/2,N*h/2),d.rotate(-o),d.font=g+" "+(m*h).toString(10)+"px "+t.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(e,c*h,(T+m*.5)*h);var Rt=d.getImageData(0,0,Z,N).data;if(nt())return!1;f&&(d.strokeRect(c*h,T,S*h,y*h),d.restore());for(var ct=[],X=P,G,ot,lt,W=[b/2,P/2,b/2,P/2];X--;)for(G=b;G--;){lt=i;t:for(;lt--;)for(ot=i;ot--;)if(Rt[((G*i+lt)*Z+(X*i+ot))*4+3]){ct.push([X,G]),X<W[3]&&(W[3]=X),X>W[1]&&(W[1]=X),G<W[0]&&(W[0]=G),G>W[2]&&(W[2]=G),f&&(d.fillStyle="rgba(255, 0, 0, 0.5)",d.fillRect(X*i,G*i,i-.5,i-.5));break t}f&&(d.fillStyle="rgba(0, 0, 255, 0.5)",d.fillRect(X*i,G*i,i-.5,i-.5))}return f&&(d.fillStyle="rgba(0, 255, 0, 0.5)",d.fillRect(W[3]*i,W[0]*i,(W[1]-W[3]+1)*i,(W[2]-W[0]+1)*i)),{mu:h,occupied:ct,bounds:W,gw:P,gh:b,fillTextOffsetX:c,fillTextOffsetY:T,fillTextWidth:S,fillTextHeight:y,fontSize:m}},Ct=function(e,n,o,s,f){for(var m=f.length;m--;){var h=e+f[m][0],g=n+f[m][1];if(h>=p||g>=E||h<0||g<0){if(!t.drawOutOfBound)return!1;continue}if(!D[h][g])return!1}return!0},bt=function(e,n,o,s,f,m,h,g,M,d){var S=o.fontSize,y;q?y=q(s,f,S,m,h,d):y=t.color;var C;V?C=V(s,f,S,d):C=t.fontWeight;var F;tt?F=tt(s,f,S,d):F=t.classes,r.forEach(function(Y){if(Y.getContext){var k=Y.getContext("2d"),c=o.mu;k.save(),k.scale(1/c,1/c),k.font=C+" "+(S*c).toString(10)+"px "+t.fontFamily,k.fillStyle=y,k.translate((e+o.gw/2)*i*c,(n+o.gh/2)*i*c),g!==0&&k.rotate(-g),k.textBaseline="middle",k.fillText(s,o.fillTextOffsetX*c,(o.fillTextOffsetY+S*.5)*c),k.restore()}else{var T=document.createElement("span"),b="";b="rotate("+-g/Math.PI*180+"deg) ",o.mu!==1&&(b+="translateX(-"+o.fillTextWidth/4+"px) scale("+1/o.mu+")");var P={position:"absolute",display:"block",font:C+" "+S*o.mu+"px "+t.fontFamily,left:(e+o.gw/2)*i+o.fillTextOffsetX+"px",top:(n+o.gh/2)*i+o.fillTextOffsetY+"px",width:o.fillTextWidth+"px",height:o.fillTextHeight+"px",lineHeight:S+"px",whiteSpace:"nowrap",transform:b,webkitTransform:b,msTransform:b,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};y&&(P.color=y),T.textContent=s;for(var Z in P)T.style[Z]=P[Z];if(M)for(var N in M)T.setAttribute(N,M[N]);F&&(T.className+=F),Y.appendChild(T)}})},kt=function(e,n,o,s,f){if(!(e>=p||n>=E||e<0||n<0)){if(D[e][n]=!1,o){var m=r[0].getContext("2d");m.fillRect(e*i,n*i,I,I)}et&&(K[e][n]={item:f,dimension:s})}},Et=function(e,n,o,s,f,m){var h=f.occupied,g=t.drawMask,M;g&&(M=r[0].getContext("2d"),M.save(),M.fillStyle=t.maskColor);var d;if(et){var S=f.bounds;d={x:(e+S[3])*i,y:(n+S[0])*i,w:(S[1]-S[3]+1)*i,h:(S[2]-S[0]+1)*i}}for(var y=h.length;y--;){var C=e+h[y][0],F=n+h[y][1];C>=p||F>=E||C<0||F<0||kt(C,F,g,d,m)}g&&M.restore()},Ft=function v(e,n){if(n>20)return null;var o,s,f;Array.isArray(e)?(o=e[0],s=e[1]):(o=e.word,s=e.weight,f=e.attributes);var m=Mt(),h=pt(e),g=It(o,s,m,h);if(!g||nt())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var M=g.bounds;if(M[1]-M[3]+1>p||M[2]-M[0]+1>E)return!1}for(var d=R+1,S=function(k){var c=Math.floor(k[0]-g.gw/2),T=Math.floor(k[1]-g.gh/2),b=g.gw,P=g.gh;return Ct(c,T,b,P,g.occupied)?(bt(c,T,g,o,s,R-d,k[2],m,f,h),Et(c,T,b,P,g,e),{gx:c,gy:T,rot:m,info:g}):!1};d--;){var y=Tt(R-d);t.shuffle&&(y=[].concat(y),yt(y));for(var C=0;C<y.length;C++){var F=S(y[C]);if(F)return F}}return t.shrinkToFit?(Array.isArray(e)?e[1]=e[1]*3/4:e.weight=e.weight*3/4,v(e,n+1)):null},j=function(e,n,o){if(n)return!r.some(function(s){var f=new CustomEvent(e,{detail:o||{}});return!s.dispatchEvent(f)},this);r.forEach(function(s){var f=new CustomEvent(e,{detail:o||{}});s.dispatchEvent(f)},this)},At=function(){var e=r[0];if(e.getContext)p=Math.ceil(e.width/i),E=Math.ceil(e.height/i);else{var n=e.getBoundingClientRect();p=Math.ceil(n.width/i),E=Math.ceil(n.height/i)}if(!!j("wordcloudstart",!0)){H=t.origin?[t.origin[0]/i,t.origin[1]/i]:[p/2,E/2],R=Math.floor(Math.sqrt(p*p+E*E)),D=[];var o,s,f;if(!e.getContext||t.clearCanvas)for(r.forEach(function(c){if(c.getContext){var T=c.getContext("2d");T.fillStyle=t.backgroundColor,T.clearRect(0,0,p*(i+1),E*(i+1)),T.fillRect(0,0,p*(i+1),E*(i+1))}else c.textContent="",c.style.backgroundColor=t.backgroundColor,c.style.position="relative"}),o=p;o--;)for(D[o]=[],s=E;s--;)D[o][s]=!0;else{var m=document.createElement("canvas").getContext("2d");m.fillStyle=t.backgroundColor,m.fillRect(0,0,1,1);var h=m.getImageData(0,0,1,1).data,g=e.getContext("2d").getImageData(0,0,p*i,E*i).data;o=p;for(var M,d;o--;)for(D[o]=[],s=E;s--;){d=i;t:for(;d--;)for(M=i;M--;)for(f=4;f--;)if(g[((s*i+d)*p*i+(o*i+M))*4+f]!==h[f]){D[o][s]=!1;break t}D[o][s]!==!1&&(D[o][s]=!0)}g=m=h=void 0}if(t.hover||t.click){for(et=!0,o=p+1;o--;)K[o]=[];t.hover&&e.addEventListener("mousemove",ht),t.click&&(e.addEventListener("click",rt),e.addEventListener("touchstart",rt),e.addEventListener("touchend",function(c){c.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function c(){e.removeEventListener("wordcloudstart",c),e.removeEventListener("mousemove",ht),e.removeEventListener("click",rt),at=void 0})}f=0;var S,y,C=!0;t.layoutAnimation?t.wait!==0?(S=window.setTimeout,y=window.clearTimeout):(S=window.setImmediate,y=window.clearImmediate):(S=function(T){T()},y=function(){C=!1});var F=function(T,b){r.forEach(function(P){P.addEventListener(T,b)},this)},Y=function(T,b){r.forEach(function(P){P.removeEventListener(T,b)},this)},k=function c(){Y("wordcloudstart",c),y(J[l])};F("wordcloudstart",k),J[l]=(t.layoutAnimation?S:setTimeout)(function c(){if(!!C){if(f>=t.list.length){y(J[l]),j("wordcloudstop",!1),Y("wordcloudstart",k),delete J[l];return}z=new Date().getTime();var T=Ft(t.list[f],0),b=!j("wordclouddrawn",!0,{item:t.list[f],drawn:T});if(nt()||b){y(J[l]),t.abort(),j("wordcloudabort",!1),j("wordcloudstop",!1),Y("wordcloudstart",k);return}f++,J[l]=S(c,t.wait)}},t.wait)}};At()};_.isSupported=Q,_.minFontSize=$;var st=_;if(!st.isSupported)throw new Error("Sorry your browser not support wordCloud");function xt(w){for(var r=w.getContext("2d"),a=r.getImageData(0,0,w.width,w.height),l=r.createImageData(a),t=0,x=0,u=0;u<a.data.length;u+=4){var i=a.data[u+3];if(i>128){var I=a.data[u]+a.data[u+1]+a.data[u+2];t+=I,++x}}for(var B=t/x,u=0;u<a.data.length;u+=4){var I=a.data[u]+a.data[u+1]+a.data[u+2],i=a.data[u+3];i<128||I>B?(l.data[u]=0,l.data[u+1]=0,l.data[u+2]=0,l.data[u+3]=0):(l.data[u]=255,l.data[u+1]=255,l.data[u+2]=255,l.data[u+3]=255)}r.putImageData(l,0,0)}A.J(function(w,r){w.eachSeriesByType("wordCloud",function(a){var l=A.A.getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),t=a.get("keepAspect"),x=a.get("maskImage"),u=x?x.width/x.height:1;t&&St(l,u);var i=a.getData(),I=document.createElement("canvas");I.width=l.width,I.height=l.height;var B=I.getContext("2d");if(x)try{B.drawImage(x,0,0,I.width,I.height),xt(I)}catch(R){console.error("Invalid mask image"),console.error(R.toString())}var O=a.get("sizeRange"),L=a.get("rotationRange"),D=i.getDataExtent("value"),p=Math.PI/180,E=a.get("gridSize");st(I,{list:i.mapArray("value",function(R,z){var q=i.getItemModel(z);return[i.getName(z),q.get("textStyle.fontSize",!0)||A.E.linearMap(R,D,O),z]}).sort(function(R,z){return z[1]-R[1]}),fontFamily:a.get("textStyle.fontFamily")||a.get("emphasis.textStyle.fontFamily")||w.get("textStyle.fontFamily"),fontWeight:a.get("textStyle.fontWeight")||a.get("emphasis.textStyle.fontWeight")||w.get("textStyle.fontWeight"),gridSize:E,ellipticity:l.height/l.width,minRotation:L[0]*p,maxRotation:L[1]*p,clearCanvas:!x,rotateRatio:1,rotationStep:a.get("rotationStep")*p,drawOutOfBound:a.get("drawOutOfBound"),shrinkToFit:a.get("shrinkToFit"),layoutAnimation:a.get("layoutAnimation"),shuffle:!1,shape:a.get("shape")});function H(R){var z=R.detail.item;R.detail.drawn&&a.layoutInstance.ondraw&&(R.detail.drawn.gx+=l.x/E,R.detail.drawn.gy+=l.y/E,a.layoutInstance.ondraw(z[0],z[1],z[2],R.detail.drawn))}I.addEventListener("wordclouddrawn",H),a.layoutInstance&&a.layoutInstance.dispose(),a.layoutInstance={ondraw:null,dispose:function(){I.removeEventListener("wordclouddrawn",H),I.addEventListener("wordclouddrawn",function(z){z.preventDefault()})}}})}),A.P(function(w){var r=(w||{}).series;!A.Y.isArray(r)&&(r=r?[r]:[]);var a=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];A.Y.each(r,function(t){if(t&&t.type==="wordCloud"){var x=t.textStyle||{};l(x.normal),l(x.emphasis)}});function l(t){t&&A.Y.each(a,function(x){t.hasOwnProperty(x)&&(t["text"+A.u.capitalFirst(x)]=t[x])})}});function St(w,r){var a=w.width,l=w.height;a>l*r?(w.x+=(a-l*r)/2,w.width=l*r):(w.y+=(l-a/r)/2,w.height=a/r)}}}]);
